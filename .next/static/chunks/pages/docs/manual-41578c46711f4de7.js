(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82],{4086:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>r});var i=s(7876),o=s(5961),d=s.n(o),t=s(4232),c=s(5990);function r(){let[e,n]=(0,t.useState)(!1),s='#!/usr/bin/env bash\n\nset -euo pipefail\n\nREPO_DIR="$(cd "$(dirname "$0")" && pwd)"\nBRANCH="tnapex-dev"\n\n# -------------------------------\n# \uD83D\uDD27 Configurable Variables\n# -------------------------------\nPM2_PROCESS="0"                       # PM2 process id or name\nREMOTE_USER="root | ubuntu | ec2-user" # SSH username\nREMOTE_HOST="<SERVER_IP>"             # Server IP\nREMOTE_PORT="22"                      # SSH port \nREMOTE_PATH="<DOCUMENT_PATH>"         # Deployment path on server\nREMOTE_PASS="<SERVER_PASSWORD>"       # Server password\nGIT_USERNAME="<GITHUB_USERNAME>"\nGIT_TOKEN="<GITHUB_TOKEN>"\n\n# -------------------------------\n# 1️⃣ Local Build\n# -------------------------------\ncd "$REPO_DIR"\n\nmkdir -p dist_backup\nif [ -d dist ]; then\n  ts=$(date +%F_%H-%M-%S)\n  BACKUP_ZIP="dist_backup/dist_${ts}.zip"\n  echo "\uD83D\uDCE6 Creating backup: ${BACKUP_ZIP}"\n  zip -r "${BACKUP_ZIP}" dist > /dev/null && echo "✅ Backup created"\nfi\n\nrm -f dist.zip && echo "\uD83D\uDDD1️ Old dist.zip removed"\nrm -rf dist && echo "\uD83E\uDDF9 Old dist/ removed"\n\necho "\uD83D\uDCE5 Pulling latest code..."\ngit pull https://${GIT_USERNAME}:${GIT_TOKEN}@github.com/<REPO_USER>/<REPO_NAME>.git ${BRANCH}\necho "✅ Git pull success"\n\nexport NVM_DIR="$HOME/.nvm"\n[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"\nnvm use 22.18.0\necho "✅ Local Node version: $(node -v)"\n\nread -rp "▶️ Run local npm install? [Y/N]: " run_local_npm\nif [[ "$run_local_npm" =~ ^[Yy]$ ]]; then\n  npm install\n  echo "✅ Local npm install done"\nelse\n  echo "→ Skipped local npm install"\nfi\n\nread -rp "▶️ Proceed with build? [Y/N]: " yn\nif [[ "$yn" =~ ^[Nn]$ ]]; then\n  echo "\uD83D\uDED1 Build cancelled"\n  exit 0\nfi\n\necho "\uD83C\uDFD7️ Running npm run build..."\nnpm run build\necho "✅ Build succeeded"\n\nDIST_ZIP="dist.zip"\nzip -r "${DIST_ZIP}" dist > /dev/null\necho "✅ dist.zip created"\n\nread -rp "▶️ Run npm install on server? [Y/N]: " RUN_NPM_INSTALL\nread -rp "▶️ Update .env file on server? [Y/N]: " UPDATE_ENV\n\necho "\uD83D\uDCE4 Uploading dist.zip to server..."\nsshpass -p "${REMOTE_PASS}" scp -o StrictHostKeyChecking=no -P "${REMOTE_PORT}" "${DIST_ZIP}" "${REMOTE_USER}@${REMOTE_HOST}:${REMOTE_PATH}/"\necho "✅ dist.zip uploaded"\n\nsshpass -p "${REMOTE_PASS}" ssh -o StrictHostKeyChecking=no -p "${REMOTE_PORT}" "${REMOTE_USER}@${REMOTE_HOST}" bash -s << \'EOF\'\nset -e\ncd \'$REMOTE_PATH\'\necho "\uD83D\uDCCC Current directory: $(pwd)"\n\n[ -d dist ] && rm -rf dist && echo "✅ Old dist removed"\n\nif [ -f dist.zip ]; then\n  echo "\uD83D\uDCC2 Extracting new dist..."\n  unzip -q dist.zip -d .\n  rm -f dist.zip\n  echo "✅ New dist deployed"\nelse\n  echo "❌ dist.zip not found!"\n  exit 1\nfi\n\nexport NVM_DIR="$HOME/.nvm"\n[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"\nnvm use 22.18.0\necho "✅ Server Node version: $(node -v)"\n\nif [[ "$RUN_NPM_INSTALL" =~ ^[Yy]$ ]]; then\n  echo "\uD83D\uDCE6 Running npm install on server..."\n  npm install --production\n  echo "✅ Server npm install done"\nelse\n  echo "→ Skipped npm install on server"\nfi\n\nif [[ "$UPDATE_ENV" =~ ^[Yy]$ ]]; then\n  echo "\uD83D\uDD27 Opening .env for editing..."\n  nano .env\n  echo "✅ .env updated"\nfi\n\nif ! command -v pm2 >/dev/null 2>&1; then\n  echo "❌ PM2 not found. Please install PM2 globally."\n  exit 1\nfi\necho "✅ PM2 found: $(pm2 -v)"\n\nif pm2 describe \'$PM2_PROCESS\' >/dev/null 2>&1; then\n  echo "\uD83D\uDD04 Reloading PM2 process $PM2_PROCESS..."\n  pm2 reload \'$PM2_PROCESS\'\nelse\n  echo "⚠️ PM2 process not found. Starting new..."\n  pm2 start dist/src/app.js --name \'$PM2_PROCESS\'\nfi\n\npm2 flush \'$PM2_PROCESS\'\necho "\uD83D\uDCDC Showing PM2 logs (Ctrl+C to exit)"\npm2 logs \'$PM2_PROCESS\'\nEOF\n';return(0,i.jsxs)(c.A,{title:"Non CI/CD",children:[(0,i.jsx)("h2",{className:"jsx-7340e8986b2eb7dd",children:"Overview"}),(0,i.jsx)("p",{className:"jsx-7340e8986b2eb7dd",children:"The detailed Non CI/CD process is good for development but not recommended for production."}),(0,i.jsx)("h2",{className:"jsx-7340e8986b2eb7dd",children:"Steps"}),(0,i.jsxs)("ul",{className:"jsx-7340e8986b2eb7dd",children:[(0,i.jsx)("li",{className:"jsx-7340e8986b2eb7dd",children:"Step 1: Prepare deployment artifacts."}),(0,i.jsx)("li",{className:"jsx-7340e8986b2eb7dd",children:"Step 2: Execute deployment commands manually."}),(0,i.jsx)("li",{className:"jsx-7340e8986b2eb7dd",children:"Step 3: Verify deployment and monitor logs."})]}),(0,i.jsx)("h2",{className:"jsx-7340e8986b2eb7dd",children:"Deployment Script (Sanitized)"}),(0,i.jsxs)("div",{className:"jsx-7340e8986b2eb7dd code-container",children:[(0,i.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(s),n(!0),setTimeout(()=>n(!1),2e3)},className:"jsx-7340e8986b2eb7dd copy-btn",children:e?"Copied!":"Copy"}),(0,i.jsx)("pre",{className:"jsx-7340e8986b2eb7dd",children:(0,i.jsx)("code",{className:"jsx-7340e8986b2eb7dd",children:s})})]}),(0,i.jsx)(d(),{id:"7340e8986b2eb7dd",children:'.code-container.jsx-7340e8986b2eb7dd{position:relative;background:#1e1e1e;border-radius:8px;padding:16px;margin-top:1rem;overflow-x:auto}.code-container.jsx-7340e8986b2eb7dd pre.jsx-7340e8986b2eb7dd{margin:0;color:#fff;font-family:"Courier New",monospace;font-size:.9rem;line-height:1.5}.copy-btn.jsx-7340e8986b2eb7dd{position:absolute;top:10px;right:10px;background:#2563eb;color:white;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:.8rem;transition:background.2s ease}.copy-btn.jsx-7340e8986b2eb7dd:hover{background:#1d4ed8}'})]})}},4548:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/manual",function(){return s(4086)}])},5990:(e,n,s)=>{"use strict";s.d(n,{A:()=>r});var i=s(7876),o=s(5961),d=s.n(o),t=s(8230),c=s.n(t);function r(e){let{title:n,description:s,children:o}=e;return(0,i.jsxs)("div",{className:"jsx-60e11466ec99cf58 doc-page",children:[(0,i.jsx)(c(),{href:"/",className:"back-link",children:"Home"}),(0,i.jsx)("h1",{className:"jsx-60e11466ec99cf58 doc-title",children:n}),s&&(0,i.jsx)("p",{className:"jsx-60e11466ec99cf58 doc-description",children:s}),(0,i.jsx)("div",{className:"jsx-60e11466ec99cf58 doc-content",children:o}),(0,i.jsx)(d(),{id:"60e11466ec99cf58",children:".doc-page.jsx-60e11466ec99cf58{max-width:800px;margin:40px auto;padding:24px;background:#f8fbff;border-radius:12px;box-shadow:0 2px 12px rgba(34,90,180,.1);font-family:system-ui,sans-serif}.back-link.jsx-60e11466ec99cf58{display:inline-block;margin-bottom:20px;color:#2563eb;text-decoration:none}.doc-title.jsx-60e11466ec99cf58{font-size:2rem;color:#2563eb;margin-bottom:10px}.doc-description.jsx-60e11466ec99cf58{font-size:1.1rem;color:#374151;margin-bottom:20px}.doc-content.jsx-60e11466ec99cf58{line-height:1.6;color:#1f2937}"})]})}}},e=>{e.O(0,[222,636,593,792],()=>e(e.s=4548)),_N_E=e.O()}]);